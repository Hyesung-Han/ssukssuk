<!-- /server/sql/base/base.xml -->

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="NOTICE">  

  <select id="NOTICE.SELECT.noticedetail">
  	/* 공지사항 글 상세보기 */
    SELECT  
        *
    FROM notice_T
    WHERE notice_no = #{no}
    LIMIT 1
  </select>

  <select id="NOTICE.SELECT.noticelist">
    /* 공지사항 글 전체 목록 */
    SELECT  
        notice_no,
        notice_title,
        notice_author,
        notice_date,
        notice_hit
    FROM notice_T
  </select>

  <insert id="NOTICE.INSERT.noticewrite">
  	/* 공지사항 글쓰기 */
    INSERT INTO notice_T
    (
        notice_title,
        notice_author,
        notice_date,
        notice_content,
        notice_code
    )
    VALUES
    (
        #{title}, 
        #{author},
        now(),
        #{content},
        #{code}
    )
  </insert>

  <update id = "NOTICE.UPDATE.NOTICEUPDATE">
  /* 공지사항 글 수정 */
      update notice_t set
      notice_title = #{title},
      notice_content = #{content}
      where notice_no = #{no}
  </update>


  <delete id="NOTICE.DELETE.NOTICEDELETE">
    /* 공지사항 삭제 */
    Delete
    From notice_T
    Where notice_no = #{no}
      
  </delete>


<select id="NOTICE.SELECT.noticesearch">
  	/* 공지사항 글 찾기(닉네임+제목) */
    SELECT * 
    FROM notice_t
    WHERE notice_title like %{#title}% 
      or notice_author like %{#author}%
  </select>

</mapper>